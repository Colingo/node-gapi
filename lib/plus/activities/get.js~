var common = require('../../common')
	, querystring = require('querystring');

var activitiesGet = function(options) {
    var activityId = options.activityId;

    delete options.activityId;

    options.key = common.api.key;
		options.alt = 'json';

    var query = querystring.stringify(options);

    common.requestOptions.path = ['/plus/v1','/activities/',activityId,'?',query].join('');
    return {
        execute : function(callback){
            var output;

            var req = common.https.request(request_options, function(res) {
                res.on('data', function(data) {
                    output += data;
                });
                res.on('end', function() {
                    callback(output);
                });
                res.on('close', function() {
                    res.emit('end');
                });
            });

            req.end();
            req.on('error', function(err) {
                callback(err);
            });

            return req;
        }
    };
};

module.exports = activitiesGet;
